kyvernoPolicies:
  values:
    policies:
      require-non-root-user:
        exclude:
          any:
            - resources:
                namespaces:
                  - jira
                names:
                  - jira*
      disallow-auto-mount-service-account-token:
        exclude:
          any:
            - resources:
                namespaces:
                  - jira
                names:
                  - jira*


packages:
  # This will be used as the namespace for the install, as well as the name of the helm release. If this is changed, the destination service (below) needs to also be changed.
  jira:
    dependsOn:
      #- name: istio #<-- Set to "istiod" when  big bang values .istioGateway.enabled=true
      #  namespace: bigbang
    enabled: true
    # Disabling this will bypass creating the istio VirtualService and NetworkPolicies.
    wrapper:
      enabled: true
    git:
      repo: https://repo1.dso.mil/big-bang/product/community/jira
      # It is recommended to update this to the latest bb tag
      branch: main
      path: chart
    # This section is ignored if `wrapper.enabled`, above, is false. In this case, creation of an ingress for web access is left as an exercise for the reader.
    istioGateway:
      enabled: true
    # Anything in this section is passed to the jira chart directly; this allows all of your bigbang configuration to be in a single place.
    values:
      jira:
        service:
          port: 8080